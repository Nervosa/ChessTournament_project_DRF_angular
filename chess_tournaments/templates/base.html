<!DOCTYPE html>
<html>
<head>
{% load static %}

<link rel="stylesheet" href="{% static 'css/custom.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/bootstrap/dist/css/bootstrap.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/angular/angular-csp.css' %}">
{% block additional_static %}
{% endblock %}
<title>
    {% block title %}
    {% endblock %}
</title>
<meta charset="utf-8">
<base href="/">
</head>
<body ng-app="chess_app" ng-cloak ng-init="user='{{user.username}}'">
<div id="header" ng-controller="ModalDemoCtrl">

        {% block login_link %}

                <a ng-click="log_out()" ng-show="{[{ user }]}">Logout</a> <!-- style="cursor: pointer; text-decoration: none" -->

                <a  ng-click="open('sm')" ng-hide="{[{ user }]}">Login</a> <!-- style="cursor: pointer; text-decoration: none" -->

        {% endblock %}
        <a ui-sref="tournaments">Tournaments</a>
        <a href="{% url 'participants' %}">Participants</a>
        <a ui-sref="land">LAND</a>

</div>

{% block body %}
{% endblock %}
<h1>Here goes a view:</h1>

<div ui-view="">

</div>

    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title">I'm a modal!</h3>
        </div>
        <div ng-controller="authController">
            <form id="id_auth_form">
                <div class="form-group">
                    <input ng-model="username" name="username" type="text" placeholder="Username" class="form-control">
                </div>
                <div class="form-group">
                    <input ng-model="password" name="password" type="password" placeholder="Password" class="form-control">
                </div>
            </form>
            <button class="btn btn-default" ng-click="login()">Login</button>
            <button class="btn btn-default" ng-click="cancel()">Cancel</button>
        </div>
    </script>

<div id="modal-login" style="display: none">
    <form id="login_form" method="post" action="{% url 'login' %}">
        {% csrf_token %}
        <table>
            <tr>
                <td><label for="username">Login:</label></td>
                <td><input type="text" id="username"></td>
            </tr>
            <tr>
                <td><label for="password">Password:</label></td>
                <td><input type="password" id="password"></td>
            </tr>
        </table>
        <input id="login_button" type="submit" value="Login">
    </form>
</div>

</body>
<script src="{% static 'bower_components/jquery/dist/jquery.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'bower_components/angular/angular.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'bower_components/angular-bootstrap/ui-bootstrap.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'bower_components/angular-tablesort/js/angular-tablesort.js' %}" type="text/javascript"></script>
<script src="{% static 'bower_components/angular-xeditable/dist/js/xeditable.js' %}"></script>
<script src="{% static 'bower_components/angular-cookies/angular-cookies.js' %}" type="text/javascript"></script>
<script src="{% static 'bower_components/angular-bootstrap/ui-bootstrap-tpls.js' %}" type="text/javascript"></script>
<script src="{% static 'bower_components/angular-resource/angular-resource.js' %}"></script>
<script src="{% static 'bower_components/angular-modal-service/dst/angular-modal-service.js' %}"></script>
<script src="{% static 'bower_components/autofill-event/src/autofill-event.js' %}"></script>
<script src="{% static 'bower_components/angular-ui-router/release/angular-ui-router.js' %}"></script>
<script src="{% static 'js/chess_app.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'js/login_app.js' %}" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    angular.element(document.getElementsByTagName('head')).append(angular.element('<base href="' + window.location.pathname + '" />'));
</script>
</html>