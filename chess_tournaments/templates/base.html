<!DOCTYPE html>
<html>
<head>
{% load static %}

<link rel="stylesheet" href="{% static 'css/custom.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/angular-xeditable/dist/css/xeditable.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/bootstrap/dist/css/bootstrap.css' %}">
<link rel="stylesheet" href="{% static 'bower_components/angular/angular-csp.css' %}">
<title>
</title>
<meta charset="utf-8">
<base href="/">
</head>
<body ng-app="chess_app" ng-cloak ng-init="'{{user.username}}' ? user='{{ user.username }}' : user='Anonymous'">
<div id="header" ng-controller="ModalDemoCtrl">
        <a ng-click="log_out()" ng-hide="'{[{ user }]}'=='Anonymous'" href="">Logout</a>
        <a ng-click="open('sm')" ng-show="'{[{ user }]}'=='Anonymous'" href="">Login</a>
        <a ui-sref="tournaments">Tournaments</a>
        <a ui-sref="participants">Participants</a>
        <script type="text/ng-template" id="myModalContent.html">
            <div class="modal-header">
                <h3 class="modal-title">Enter your credentials</h3>
            </div>
            <div ng-controller="authController as authentication">
                <div class="modal-body">
                    <form id="id_auth_form" ng-submit="login()">
                        {% csrf_token %}
                        <div id="error_message" class="alert alert-danger">
                            test
                        </div>
                        <div class="form-group">
                            <input focus-this ng-model="creds.username" name="username" type="text" placeholder="Username" class="form-control">
                        </div>
                        <div class="form-group">
                            <input ng-model="creds.password" name="password" type="password" placeholder="Password" class="form-control">
                        </div>
                        <input class="btn btn-default" type="submit" value="Login">
                        <input class="btn btn-default" type="button" value="Cancel" ng-click="cancel()">
                    </form>
                </div>
            </div>
        </script>
</div>

<div ui-view>

</div>

</body>
<script src="{% static 'bower_components/jquery/dist/jquery.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'bower_components/angular/angular.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'bower_components/angular-tablesort/js/angular-tablesort.js' %}" type="text/javascript"></script>
<script src="{% static 'bower_components/angular-xeditable/dist/js/xeditable.js' %}"></script>
<script src="{% static 'bower_components/angular-cookies/angular-cookies.js' %}" type="text/javascript"></script>
<script src="{% static 'bower_components/angular-bootstrap/ui-bootstrap-tpls.js' %}" type="text/javascript"></script>
<script src="{% static 'bower_components/angular-resource/angular-resource.js' %}"></script>
<script src="{% static 'bower_components/angular-modal-service/dst/angular-modal-service.js' %}"></script>
<script src="{% static 'bower_components/autofill-event/src/autofill-event.js' %}"></script>
<script src="{% static 'bower_components/angular-ui-router/release/angular-ui-router.js' %}"></script>
<script src="{% static 'js/services.js' %}"></script>
<script src="{% static 'js/controllers.js' %}"></script>
<script src="{% static 'js/directives.js' %}"></script>
<script src="{% static 'js/chess_app.js' %}" type="text/javascript" charset="utf-8"></script>
<script src="{% static 'js/login_app.js' %}" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    angular.element(document.getElementsByTagName('head')).append(angular.element('<base href="' + window.location.pathname + '" />'));
</script>
</html>